import { defineStore, mapStores, mapActions } from "pinia";
import axios from "axios";
import { useUserStore } from "./user.js"; // ImportÄƒ store-ul A
//import { useRoute, useRouter } from 'vue-router';
export const useAuthStore = defineStore("auth", {
  state: () => ({
    loggedUser: null,
  }),
  actions: {
    async register(values) {
      const newUser = {
        name: values.name,
        email: values.email,
        password: values.password,
        about: "",
       // company: "Company name",
       // mail: values.email,
        //phone: "Your phone",
        sites: [],
        contacts: [],
        image: "data:image/jpeg;base64,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",
        avatar: "data:image/jpeg;base64,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",
       
      };
     
      await axios.post("/api/users", newUser);
    },

    async authenticate(values) {
      const pendingUser = {
        email: values.email,
        password: values.password,
      };
     await axios.post("/api/users/passCompare", pendingUser).then((res) => {
        if (res.data.status === "fail") {
          alert("Adresa de mail sau parola gresite")
          //localStorage.clear();
               return
        }
        else if (res.data.status === "succes") {
          localStorage.setItem("id", res.data.currentUser[0]._id);
          localStorage.setItem("token", res.data.token);
          localStorage.setItem("name", res.data.currentUser[0].name);
          const userStore = useUserStore();
          userStore.setUser(res.data.currentUser[0]);
          userStore.activeId = res.data.currentUser[0]._id
          this.loggedUser = res.data.currentUser[0].name;
         
          // const router = useRouter();
          // router.push({ path: `/${res.data.currentUser[0]._id}` });
        }
      });
    },
    
  },
});
